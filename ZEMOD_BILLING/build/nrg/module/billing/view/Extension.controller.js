sap.ui.define(["nrg/base/view/BaseController","nrg/base/type/Price","sap/ui/model/json/JSONModel","sap/ui/model/Filter","sap/ui/model/FilterOperator","nrg/module/quickpay/view/QuickPayPopup","nrg/module/billing/view/EligPopup"],function(a,b,c,d,e,f,g){"use strict";var h=a.extend("nrg.module.billing.view.Extension");return h.prototype.onBeforeRendering=function(){var a=this.getOwnerComponent().getCcuxContextManager().getContext().oData;this.resetInfo(),this._bpNum=a.bpNum,this._caNum=a.caNum,this._coNum=a.coNum,this._isExt=a.isExt,this.getView().setModel(this.getOwnerComponent().getModel("comp-dppext"),"oDataSvc"),this.getView().setModel(this.getOwnerComponent().getModel("comp-eligibility"),"oDataEligSvc"),this.getView().setModel(new sap.ui.model.json.JSONModel,"oEligibility"),this.getView().setModel(new c,"oDppScrnControl"),this.getView().setModel(new c,"oExtEligible"),this.getView().setModel(new c,"oExtExtensions"),this.getView().setModel(new c,"oExtExtReasons"),this.getView().setModel(new c,"oExtPostRequest"),this.getView().setModel(new c({extDate:"",GrantCL:"",DeniedCL:"",ChangeCL:"",reason:"0000",pendingFlag1:!0,pendingFlag2:!1}),"oLocalModel"),this._initScrnControl(),this._isExtElgble(),this._retrieveNotification(),this._aSelOpenItems=[]},h.prototype.onAfterRendering=function(){},h.prototype.resetInfo=function(){var a=this.getView().byId("idnrgBilling-extDenCL");a.setValue(""),this.getView().byId("nrgBilling-ext-dwnPayDueCreateDate-id").setValue(""),this.getView().byId("nrgBilling-ext-dwnPayDueDate-id").setValue(""),this.getView().byId("idnrgBillingGrantReason").removeAllContent(),this.getView().byId("idnrgBillingChangeReason").removeAllContent(),this._ExtensionSelected="0000"},h.prototype.onAfterRendering=function(){this.getView().byId("nrgBilling-dpp-ExtGrantDate-id").attachBrowserEvent("select",this._handleExtDateChange,this),this.getView().byId("nrgBilling-dpp-ExtChangeDate-id").attachBrowserEvent("select",this._handleExtDateChange,this),this.getView().byId("nrgBilling-ext-dwnPayDueCreateDate-id").attachBrowserEvent("select",this._handleExtDateChange,this),this.getView().byId("nrgBilling-ext-dwnPayDueDate-id").attachBrowserEvent("select",this._handleDownPaymentDate,this)},h.prototype._initScrnControl=function(){var a=this.getView().getModel("oDppScrnControl");a.setProperty("/EXTGrant",!1),a.setProperty("/EXTDisplay",!1),a.setProperty("/EXTDenied",!1),a.setProperty("/EXTChange",!1)},h.prototype._onDownPayment=function(){var a=new f,b=this;this.getView().addDependent(a),a.openQuickPay(this._coNum,this._bpNum,this._caNum),a.attachEvent("PaymentCompleted",function(){b._retrExtensions()},this)},h.prototype._selectScrn=function(a){var b=this.getView().getModel("oDppScrnControl");if(b.setProperty("/EXTGrant",!1),b.setProperty("/EXTDisplay",!1),b.setProperty("/EXTDenied",!1),b.setProperty("/EXTChange",!1),b.setProperty("/"+a,!0),"EXTGrant"===a)this._retrExtReasons(),this._retrExtensions();else if("EXTDisplay"===a)this._retrExtensions();else if("EXTChange"===a)this._retrExtReasons(),this._retrExtensions();else{if("EXTDenied"!==a)return;this._retrExtensions()}},h.prototype._isExtElgble=function(){var a,b,c=this.getView().getModel("oDataSvc"),d=this.getView().getModel("oLocalModel");b="/ExtElgbles('"+this._coNum+"')",a={success:function(a){a&&(a.NewExtActive=a.ExtActive,d.setProperty("/pendingFlag1",!a.ExtPending),d.setProperty("/pendingFlag2",a.ExtPending),this.getView().getModel("oExtEligible").setData(a),this._selectScrn(this.getView().getModel("oExtEligible").getProperty("/ExtActive")||this.getView().getModel("oExtEligible").getProperty("/ExtPending")?"EXTDisplay":this.getView().getModel("oExtEligible").getProperty("/EligibleYes")?this.getView().getModel("oExtEligible").getProperty("/ExtPending")?"EXTDisplay":"EXTGrant":"EXTDenied"))}.bind(this),error:function(){}.bind(this)},c&&this._coNum&&c.read(b,a)},h.prototype.onSelectionItems=function(a){var b,c,d;d=a.getSource().getBindingContext("oExtExtensions").getProperty("OpenItems/ItemNumber"),a.getSource().getChecked()?(b=this._aSelOpenItems.indexOf(d),c=0>b&&this._aSelOpenItems.push(d)):(b=this._aSelOpenItems.indexOf(d),c=b>-1&&this._aSelOpenItems.splice(b,1))},h.prototype._onExtDisplayOkClick=function(){this.navTo("billing.CheckBook",{bpNum:this._bpNum,caNum:this._caNum,coNum:this._coNum})},h.prototype._onExtDeniedOkClick=function(){var a=this.getOwnerComponent().getModel("comp-dppext"),b=this,c=this.getView().getModel("oLocalModel");a.create("/ExtDeniedS",{Contract:this._coNum,ContAccount:this._caNum,Partner:this._bpNum,Message:c.getProperty("/DeniedCL")||""},{success:function(a){a&&(ute.ui.main.Popup.Alert({title:"Extension",message:a.Message}),b.navTo("billing.CheckBook",{bpNum:b._bpNum,caNum:b._caNum,coNum:b._coNum}))},error:function(){}})},h.prototype._onExtOverrideClick=function(){this._selectScrn(this.getView().getModel("oExtEligible").getProperty("/ExtActive")?"EXTChange":"EXTGrant"),this._bOverRide=!0},h.prototype._onExtChangeClick=function(){this._selectScrn(this.getView().getModel("oExtEligible").getProperty("/EligibleYes")?"EXTChange":"EXTDenied")},h.prototype._onMain=function(){this._coNum?this.navTo("billing.BillingInfo",{bpNum:this._bpNum,caNum:this._caNum,coNum:this._coNum}):this.navTo("billing.BillingInfoNoCo",{bpNum:this._bpNum,caNum:this._caNum})},h.prototype._onCheckbook=function(){this._coNum?this.navTo("billing.CheckBook",{bpNum:this._bpNum,caNum:this._caNum,coNum:this._coNum}):this.navTo("billing.CheckBookNoCo",{bpNum:this._bpNum,caNum:this._caNum})},h.prototype._handleDownPaymentDate=function(){var a;a=this.getView().byId(this.getView().getModel("oDppScrnControl").getProperty("/EXTGrant")?"nrgBilling-dpp-ExtGrantDate-id":"nrgBilling-dpp-ExtChangeDate-id")},h.prototype._handleExtDateChange=function(){var a,b,c,d,e,f=this.getView().getModel("oExtExtensions"),g=this.getView().getModel("oLocalModel"),h=this.getView().getModel("oExtEligible"),i=!0;if(e=this.getView().byId(this.getView().getModel("oDppScrnControl").getProperty("/EXTGrant")?"nrgBilling-dpp-ExtGrantDate-id":"nrgBilling-dpp-ExtChangeDate-id"),a=new Date(e.getValue()),c=new Date,a.setHours(c.getHours()),d=(a-c)/864e5,Math.ceil(d)>60&&(ute.ui.main.Popup.Alert({title:"Extension",message:"Please correct Deferral Date. Extensions can be granted for no more than 60 calendar days beyond the current date."}),e.setValue(g.getProperty("/extDate")),a=g.getProperty("/extDate"),i=!1),!h.getProperty("/ExtActive"))for(b=0;b<f.oData.results.length;b+=1)f.setProperty("/results/"+b+"/OpenItems/DefferalDate",a);return i},h.prototype._retrExtReasons=function(){var a,b,c,d,e,f=this,g=this.getView().byId("idnrgBillingReasonTemp");c=this.getView().byId(this.getView().getModel("oDppScrnControl").getProperty("/EXTGrant")?"idnrgBillingGrantReason":"idnrgBillingChangeReason"),c.removeAllContent(),this.getOwnerComponent().getCcuxApp().setOccupied(!0),b="/ExtReasons",e=function(){return g.clone(Math.abs(Math.random().toString().split("").reduce(function(a,b){return(a<<5)-a+b})).toString(36).substr(0,11))},d=function(){var a=c.getContent();void 0!==a&&a.length>0&&c.setSelectedKey("0000"),f.getOwnerComponent().getCcuxApp().setOccupied(!1)},a={model:"comp-dppext",path:b,factory:e,events:{dataReceived:d}},c.bindAggregation("content",a)},h.prototype._retrExtensions=function(){var a,b,c,d,e,f,g,h=this.getView().getModel("oDataSvc"),i=this,j=this.getView().getModel("oLocalModel"),k=this.getView().getModel("oExtEligible");f=["Contract","ExtActive"],e=[this._coNum,k.getProperty("/ExtActive")],d=this._createSearchFilterObject(f,e),this.getOwnerComponent().getCcuxApp().setOccupied(!0),b="/Extensions",g=this.getView().byId(this.getView().getModel("oDppScrnControl").getProperty("/EXTGrant")?"nrgBilling-ext-dwnPayGrantvalue-id":"nrgBilling-ext-dwnPaychangevalue-id"),a={filters:d,success:function(a){var b=0;if(a&&a.results){for(this.getView().getModel("oExtExtensions").setData(a),g&&g.setValue("0"),b=0;b<a.results.length;b+=1)if(a.results[b]&&a.results[b].OpenItems&&a.results[b].OpenItems.DefferalDate){c=this._formatInvoiceDate(a.results[b].OpenItems.DefferalDate.getDate(),a.results[b].OpenItems.DefferalDate.getMonth()+1,a.results[b].OpenItems.DefferalDate.getFullYear()),j.setProperty("/extDate",c);break}this.getView().getModel("oDppScrnControl").getProperty("/EXTGrant")?this.getView().byId("nrgBilling-dpp-ExtGrantDate-id").setDefaultDate(c):this.getView().byId("nrgBilling-dpp-ExtChangeDate-id").setDefaultDate(c)}i.getOwnerComponent().getCcuxApp().setOccupied(!1)}.bind(this),error:function(){i.getOwnerComponent().getCcuxApp().setOccupied(!1)}.bind(this)},h&&h.read(b,a)},h.prototype._formatInvoiceDate=function(a,b,c){return 10>a&&(a="0"+a),10>b&&(b="0"+b),b+"/"+a+"/"+c},h.prototype._onExtConfirmClick=function(){{var a,b,c,d,e,f,g,h,i=this.getView().getModel("oExtEligible"),j=this.getView().getModel("oExtExtensions"),k=this,l=j.getProperty("/results/0/OpenItems/DefferalDate"),m=this._handleExtDateChange();this.getView().getModel("oLocalModel"),this.getView().getModel("oDppScrnControl")}if(this.getOwnerComponent().getCcuxApp().setOccupied(!0),!m)return void this.getOwnerComponent().getCcuxApp().setOccupied(!1);if(this.getView().getModel("oDppScrnControl").getProperty("/EXTGrant")){if(b=this.getView().byId("nrgBilling-dpp-ExtGrantDate-id").getValue(),c=this.getView().byId("nrgBilling-ext-dwnPayDueCreateDate-id").getValue(),d=this.getView().byId("nrgBilling-ext-dwnPayGrantvalue-id").getValue(),d||(this.getView().byId("nrgBilling-ext-dwnPayGrantvalue-id").setValue("0"),d="0"),!b)return this.getOwnerComponent().getCcuxApp().setOccupied(!1),void ute.ui.main.Popup.Alert({title:"Extension",message:"Please select an extended date."});if(0!==parseFloat(d)&&!c)return this.getOwnerComponent().getCcuxApp().setOccupied(!1),void ute.ui.main.Popup.Alert({title:"Extension",message:"Please select a down payment date."});h=this.getView().byId("idnrgBillingGrantReason")}else{if(b=this.getView().byId("nrgBilling-dpp-ExtChangeDate-id").getValue(),c=this.getView().byId("nrgBilling-ext-dwnPayDueDate-id").getValue(),d=this.getView().byId("nrgBilling-ext-dwnPaychangevalue-id").getValue(),d||(this.getView().byId("nrgBilling-ext-dwnPaychangevalue-id").setValue("0"),d="0"),!b)return this.getOwnerComponent().getCcuxApp().setOccupied(!1),void ute.ui.main.Popup.Alert({title:"Extension",message:"Please select an extended date."});if(0!==parseFloat(d)&&!c)return this.getOwnerComponent().getCcuxApp().setOccupied(!1),void ute.ui.main.Popup.Alert({title:"Extension",message:"Please select a down payment date."});h=this.getView().byId("idnrgBillingChangeReason")}if("0000"===h.getSelectedKey())return this.getOwnerComponent().getCcuxApp().setOccupied(!1),void ute.ui.main.Popup.Alert({title:"Extension",message:"Please select a reason."});if(g=c,l||(l=j.getProperty("/results/1/OpenItems/DefferalDate")),l&&b){if(l=new Date(l),l&&(l.setHours("00"),l.setMinutes("00"),l.setSeconds("00")),b=new Date(b),b&&(b.setHours("00"),b.setMinutes("00"),b.setSeconds("00")),i.getProperty("/ExtActive")&&l.getTime()===b.getTime())return this.getOwnerComponent().getCcuxApp().setOccupied(!1),void ute.ui.main.Popup.Alert({title:"Extension",message:"Selected extended date is the same as current extended date. Please select another date."});if(l.getTime()>b.getTime())return this.getOwnerComponent().getCcuxApp().setOccupied(!1),void ute.ui.main.Popup.Alert({title:"Extension",message:"Deferral date is before due date."})}if(!isNaN(parseFloat(d))&&isFinite(d)&&parseInt(d,10)>0&&!c)return this.getOwnerComponent().getCcuxApp().setOccupied(!1),void ute.ui.main.Popup.Alert({title:"Extension",message:"Please enter due date for the down payment."});if(c&&(c=new Date(c),e=new Date,c.setHours(e.getHours()),f=(c-e)/864e5,Math.ceil(f)>14))return this.getOwnerComponent().getCcuxApp().setOccupied(!1),void ute.ui.main.Popup.Alert({title:"Extension",message:"Due date should be less than 2 weeks in future."});if(i.getProperty("/ExtPending")){if(!isNaN(parseFloat(d))&&isFinite(d)&&0===parseInt(d,10))return a=function(a){switch(a){case ute.ui.main.Popup.Action.Yes:k.getOwnerComponent().getCcuxApp().setOccupied(!0),k._postExtRequest();break;case ute.ui.main.Popup.Action.No:k._onCheckbook();break;case ute.ui.main.Popup.Action.Ok:}},this.getOwnerComponent().getCcuxApp().setOccupied(!1),void ute.ui.main.Popup.Confirm({title:"Extension",message:"Customer already has a pending extension. Would you like to continue?",callback:a});if(!isNaN(parseFloat(d))&&isFinite(d)&&parseInt(d,10)>0)return this.getOwnerComponent().getCcuxApp().setOccupied(!1),void ute.ui.main.Popup.Alert({title:"Extension",message:"Customer already has a pending extension"})}k._postExtRequest()},h.prototype._postExtRequest=function(){var a,b,c,d,e,f,g,h=this.getView().getModel("oDataSvc"),i=(this.getView().getModel("oExtPostRequest"),this.getView().getModel("oExtExtensions"),this.getView().getModel("oExtEligible"),{}),j=this,k=this.getView().getModel("oLocalModel"),l="";this.getView().getModel("oDppScrnControl").getProperty("/EXTGrant")?(g=this.getView().byId("nrgBilling-dpp-ExtGrantDate-id").getValue(),f=k.getProperty("/GrantCL"),b=this.getView().byId("nrgBilling-ext-dwnPayDueCreateDate-id").getValue(),c=this.getView().byId("nrgBilling-ext-dwnPayGrantvalue-id").getValue(),a=this.getView().byId("idnrgBillingGrantReason")):(g=this.getView().byId("nrgBilling-dpp-ExtChangeDate-id").getValue(),f=k.getProperty("/ChangeCL"),b=this.getView().byId("nrgBilling-ext-dwnPayDueDate-id").getValue(),c=this.getView().byId("nrgBilling-ext-dwnPaychangevalue-id").getValue(),a=this.getView().byId("idnrgBillingChangeReason")),i.Contract=this._coNum,i.BP=this._bpNum,i.CA=this._caNum,i.Message=f||"",i.DefDtNew=new Date(g),i.OverRide=this._bOverRide?"X":"N",i.DwnPay=c,(i.DwnPay||0===i.DwnPay)&&(i.DwnPay=i.DwnPay.toString()),b&&(i.DwnPayDate=new Date(b)),a.getSelectedKey()&&(i.ExtReason=a.getSelectedKey()),i.ExtActive=!1,this._aSelOpenItems.forEach(function(a,b){l+=0===b?a:"~"+a}),i.CurrItems=l,d="/ExtConfs",e={merge:!1,success:function(a){var b="";a&&(a.DwnPymntMsg&&(b=a.DwnPymntMsg),a.Message&&(b=b+";  "+a.Message),ute.ui.main.Popup.Alert({title:"Extension",message:b}),a.Error||j._onCheckbook()),j.getOwnerComponent().getCcuxApp().setOccupied(!1)}.bind(this),error:function(){j.getOwnerComponent().getCcuxApp().setOccupied(!1),ute.ui.main.Popup.Alert({title:"Extension",message:"Extension request failed"})}.bind(this)},h&&h.create(d,i,e)},h.prototype._onEXTConfCancelClick=function(){this._coNum?this.navTo("billing.CheckBook",{bpNum:this._bpNum,caNum:this._caNum,coNum:this._coNum}):this.navTo("billing.CheckBookNoCo",{bpNum:this._bpNum,caNum:this._caNum})},h.prototype._isOdd=function(a){return a%2===0?!1:!0},h.prototype._isEven=function(a){return a%2===0?!0:!1},h.prototype._formatDate=function(a){var b;return a?b=(a.getMonth()+1).toString()+"/"+a.getDate().toString()+"/"+a.getFullYear().toString().substring(2,4):null},h.prototype._createSearchFilterObject=function(a,b,c){var f,g=[];if(c||(c=e.EQ),void 0!==a)for(f=0;f<a.length;f+=1)g.push(new d(a[f],e.EQ,b[f],""));return g},h.prototype._retrieveNotification=function(){var a,b,c,d,e="/EligCheckS('"+this._coNum+"')",f=this.getView().getModel("oDataEligSvc"),g=this.getView().getModel("oEligibility"),h=this.getOwnerComponent().getModel("comp-i18n-billing");a={success:function(a){g.setData(a);var e=this.getView().byId("idnrgBilling-ext-notifications");for(e&&e.getContent()&&e.getContent().length>0&&e.removeAllContent(),this._eligibilityAlerts=[],a.ABPElig?(("Y"===a.ABPElig||"y"===a.ABPElig)&&(d=h.getProperty("nrgNotfABPT")),("N"===a.ABPElig||"n"===a.ABPElig)&&(d=h.getProperty("nrgNotfABPF")),b=new ute.ui.app.FooterNotificationItem({link:!0,design:"Information",text:d,linkPress:this._openEligABPPopup.bind(this)})):b=new ute.ui.app.FooterNotificationItem({link:!0,design:"Information",text:h.getProperty("nrgNotfABPEmpty"),linkPress:this._reloadNotification.bind(this)}),this._eligibilityAlerts.push(b),a.EXTNElig?(("Y"===a.EXTNElig||"y"===a.ABPElig)&&(d=h.getProperty("nrgNotfEXTT")),("N"===a.EXTNElig||"n"===a.ABPElig)&&(d=h.getProperty("nrgNotfEXTF")),b=new ute.ui.app.FooterNotificationItem({link:!0,design:"Information",text:d,linkPress:this._openEligABPPopup.bind(this)})):b=new ute.ui.app.FooterNotificationItem({link:!0,design:"Information",text:h.getProperty("nrgNotfEXTEmpty"),linkPress:this._reloadNotification.bind(this)}),this._eligibilityAlerts.push(b),a.RBBElig?(("Y"===a.RBBElig||"y"===a.ABPElig)&&(d=h.getProperty("nrgNotfRBPT")),("N"===a.RBBElig||"n"===a.ABPElig)&&(d=h.getProperty("nrgNotfRBPF")),b=new ute.ui.app.FooterNotificationItem({link:!0,design:"Information",text:d,linkPress:this._openEligABPPopup.bind(this)})):b=new ute.ui.app.FooterNotificationItem({link:!0,design:"Information",text:h.getProperty("nrgNotfRBPEmpty"),linkPress:this._reloadNotification.bind(this)}),this._eligibilityAlerts.push(b),a.DPPElig?(("Y"===a.DPPElig||"y"===a.ABPElig)&&(d=h.getProperty("nrgNotfDPPT")),("N"===a.DPPElig||"n"===a.ABPElig)&&(d=h.getProperty("nrgNotfDPPF")),b=new ute.ui.app.FooterNotificationItem({link:!0,design:"Information",text:d,linkPress:this._openEligABPPopup.bind(this)})):b=new ute.ui.app.FooterNotificationItem({link:!0,design:"Information",text:h.getProperty("nrgNotfDPPEmpty"),linkPress:this._reloadNotification.bind(this)}),this._eligibilityAlerts.push(b),("Y"===a.EXTNPend||"y"===a.EXTNPend)&&(b=new ute.ui.app.FooterNotificationItem({link:!1,design:"Information",text:h.getProperty("nrgNotfPE")}),this._eligibilityAlerts.push(b)),("Y"===a.CollAccActv||"y"===a.CollAccActv)&&(b=new ute.ui.app.FooterNotificationItem({link:!1,design:"Information",text:h.getProperty("nrgNotfCB")}),this._eligibilityAlerts.push(b)),("Y"===a.CSAActv||"y"===a.CSAActv)&&(b=new ute.ui.app.FooterNotificationItem({link:!1,design:"Information",text:h.getProperty("nrgNotfCSA")}),this._eligibilityAlerts.push(b)),("Y"===a.RBankDActv||"y"===a.RBankDActv)&&(b=new ute.ui.app.FooterNotificationItem({link:!1,design:"Information",text:h.getProperty("nrgNotfRBD")}),this._eligibilityAlerts.push(b)),("Y"===a.RCCardActv||"y"===a.RCCardActv)&&(b=new ute.ui.app.FooterNotificationItem({link:!1,design:"Information",text:h.getProperty("nrgNotfRCC")}),this._eligibilityAlerts.push(b)),c=0;c<this._eligibilityAlerts.length;c+=1)this._eligibilityAlerts[c].placeAt(e)}.bind(this),error:function(){var a=this.getView().byId("idnrgBilling-ext-notifications");a&&a.getContent()&&a.getContent().length>0&&a.removeAllContent(),this._eligibilityAlerts=[],b=new ute.ui.app.FooterNotificationItem({link:!0,design:"Information",text:h.getProperty("nrgNotfReload"),linkPress:this._reloadNotification.bind(this)}),this._eligibilityAlerts.push(b),this._eligibilityAlerts[0].placeAt(a)}.bind(this)},f&&this._coNum&&f.read(e,a)},h.prototype._openEligABPPopup=function(){this.EligABPPopupCustomControl||(this.EligABPPopupCustomControl=new g({eligType:"ABP"}),this.EligABPPopupCustomControl.attachEvent("EligCompleted",function(){},this),this.getView().addDependent(this.EligABPPopupCustomControl),this.EligABPPopupCustomControl._oEligPopup.setTitle("ELIGIBILITY CRITERIA - AVERAGE BILLING PLAN")),this.EligABPPopupCustomControl.prepare()},h.prototype._openEligEXTNPopup=function(){this.EligEXTNPopupCustomControl||(this.EligEXTNPopupCustomControl=new g({eligType:"EXTN"}),this.EligEXTNPopupCustomControl.attachEvent("EligCompleted",function(){},this),this.getView().addDependent(this.EligEXTNPopupCustomControl),this.EligEXTNPopupCustomControl._oEligPopup.setTitle("ELIGIBILITY CRITERIA - EXTENSION")),this.EligEXTNPopupCustomControl.prepare()},h.prototype._openEligRBBPopup=function(){this.EligRBBPopupCustomControl||(this.EligRBBPopupCustomControl=new g({eligType:"RBB"}),this.EligRBBPopupCustomControl.attachEvent("EligCompleted",function(){},this),this.getView().addDependent(this.EligRBBPopupCustomControl),this.EligRBBPopupCustomControl._oEligPopup.setTitle("ELIGIBILITY CRITERIA - RETRO BILLING PLAN")),this.EligRBBPopupCustomControl.prepare()},h});