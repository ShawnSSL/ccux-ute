<?xml version="1.0" encoding="UTF-8"?>
<mvc:View xmlns:mvc="sap.ui.core.mvc"
          xmlns="http://www.w3.org/1999/xhtml"
          xmlns:c="sap.ui.commons"
          xmlns:core="sap.ui.core"
          xmlns:u="ute.ui.commons"
          xmlns:l="sap.ui.commons.layout"
          xmlns:um="ute.ui.main"
          xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
          controllerName="nrg.module.campaign.view.Overview"
          height="100%"
          width="100%"
          displayBlock="true"
	      busy="false"
	      busyIndicatorDelay="{appView>/delay}">
   <u:Tag class="nrgAppMain-generalContent nrgAppMain-generalContent-full">
      <u:Tag class="nrgCamOvrT">
         <u:Tag class="nrgCamOvr-Title" text="{comp-i18n-campaign>nrgCmpOvrTtl}" />
            <article class="nrgCamOvr-offerToolbar nrgCamOvr-top">
                <um:Button id="idCamCustReqOfferBtn"
                           press=".onOffers"
                           text="{Overview-elig>Notitle}"
                           class="nrgCamOvr-offerBtn"
                           design="None">
                    <u:Tag class="nrgCamOvr-offerBtnTitle"
                           text="{comp-i18n-appFtr>nrgAppFooterCustReqOffer}" />
                    <u:Tag id="idCamCustReqOffer"
                           class="nrgCamOvr-offerBtnDesc"
                            text="{= ${Overview-elig>/CustEligFlag} === '' ? ${comp-i18n-campaign>nrgCmpOvrNotElg} : ${comp-i18n-campaign>nrgCmpOvrElg} }" >
                        <u:customData>
                          <core:CustomData key="flag"
                                           value="{= ${Overview-elig>/CustEligFlag} === '' ? 'Y' : 'X' }"
                                           writeToDom="true" />
                        </u:customData>
                    </u:Tag>
                </um:button>
                <um:Button id="idCamAgtReqOfferBtn"
                           press=".onOffers"
                           text="{Overview-elig>Notitle}"
                           class="nrgCamOvr-offerBtn"
                           design="None"
                           enabled="{= ${Overview-elig>AgntEligFlag} !== '' }">
                    <u:Tag class="nrgCamOvr-offerBtnTitle" text="{comp-i18n-appFtr>nrgAppFooterAgentReqOffer}" />
                    <u:Tag id="idCamAgentReqOffer" class="nrgCamOvr-offerBtnDesc"
                           text="{= ${Overview-elig>AgntEligFlag} === '' ? ${comp-i18n-campaign>nrgCmpOvrNotElg} : ${comp-i18n-campaign>nrgCmpOvrElg} }" >
                         <u:customData>
                         <core:CustomData key="flag"
                                           value="{= ${Overview-elig>AgntEligFlag}  === '' ? 'Y' : 'X' }"
                                           writeToDom="true" />
                        </u:customData>
                    </u:Tag>
                </um:button>
            </article>
            <um:TabBar id="idnrgCamOvr-TabBar" design="None" class="nrgCamOvr-TabBar nrgCamOvr-top" >
                <um:TabBarItem design="Default" key="tb001" select=".toggleCampaign" enabled="{= ${comp-campaign>OfferCode} !== '00000000' }">
                    <u:Tag text="{parts:[{path:'comp-campaign>Type'}],
                                                    formatter:'.formatType'}" />


                </um:TabBarItem>
            </um:TabBar>
            <l:MatrixLayout class="nrgCamOvrMtx nrgCamOvr-top">
                <l:MatrixLayoutRow>
                    <l:MatrixLayoutCell>
                        <c:Label text="{comp-i18n-campaign>nrgCmpOvrTtllbl}"
                                 icon="sap-icon://nrg-icon/tag"
                                 class="nrgCamOvr-lbl"
                                 labelFor="idCamTitleTv"  />

                    </l:MatrixLayoutCell>
                    <l:MatrixLayoutCell>
                        <c:Label text="{comp-i18n-campaign>nrgCmpOvrAUlbl}"
                                 icon="sap-icon://nrg-icon/bulb"
                                 class="nrgCamOvr-lbl"
                                 labelFor="idCamAvgUsgTv"  />
                    </l:MatrixLayoutCell>
                </l:MatrixLayoutRow>
                <l:MatrixLayoutRow>
                    <l:MatrixLayoutCell>
                        <u:TextView text="{comp-campaign>OfferTitle}"
                                    class="nrgCamOvr-left"
                                    color="DarkGrey"
                                    design="Base"/>

                    </l:MatrixLayoutCell>
                    <l:MatrixLayoutCell>
                        <u:TextView text="{comp-campaign>AvgUsage}"
                                    class="nrgCamOvr-left"
                                    color="DarkGrey"
                                    design="Base"/>
                    </l:MatrixLayoutCell>
                </l:MatrixLayoutRow>
            </l:MatrixLayout>
            <u:Tag class="nrgCamPriceT" id="nrgCamPriceT">
                <c:Label text="{comp-i18n-campaign>nrgCmpOvrPrclbl}"
                         icon="sap-icon://nrg-icon/dollar"
                         class="nrgCamOvr-lbl nrgCamOvr-top"
                         labelFor="idCamPriceTbl"  />
                <u:Tag class="nrgCamOvrPriceT" id="idnrgCamOvrPriceT">
                    <!-- EFL Data Table is dynamically inserted here with XML templating -->
                </u:Tag>

            </u:Tag>
            <um:Infoline expanded="true">
                <um:headerContent>
                    <c:Label
                        text="{comp-i18n-campaign>nrgCmpOvrDsclbl}"
                        icon="sap-icon://nrg-icon/description"
                        class="nrgCamOvr-lbl nrgCamOvr-desc"
                        labelFor="idCamDescTv" />
                </um:headerContent>
                <um:content>
                    <u:TextView
                        color="DarkGrey"
                        class="nrgCamOvr-left nrgCamOvr-top"
                        design="Base"
                        text="{comp-campaign>Description}" />
                </um:content>
            </um:Infoline>
            <u:Table width="100%"
                     class="nrgCamOvr-top"
                     tableType="CampaignTable" >
                <u:columns>
<!--                    <u:TableColumn>
                        <c:Label text="Promo Code"/>
                    </u:TableColumn>-->
                    <u:TableColumn>
                         <c:Label text="Offer Code"/>
                    </u:TableColumn>
                    <u:TableColumn>
                         <c:Label text="Term Length"/>
                    </u:TableColumn>
                    <u:TableColumn>
                        <c:Label text="Start Date"/>
                    </u:TableColumn>
                    <u:TableColumn>
                         <c:Label text="End Date"/>
                    </u:TableColumn>
                    <u:TableColumn>
                         <c:Label text="Cancellation Fee"/>
                    </u:TableColumn>
                    <u:TableColumn>
                         <c:Label text="Incentive"/>
                    </u:TableColumn>
                </u:columns>
                <u:rows>
                    <u:TableRow>
<!--                        <c:Label text="{comp-campaign>Promo}"/>-->
                        <c:Label text="{comp-campaign>OfferCode}"/>
                        <c:Label text="{comp-campaign>Term}"/>
                        <c:Label text="{path: 'comp-campaign>StartDate', type: 'sap.ui.model.type.Date', formatOptions:{pattern: 'MM/dd/yyyy'} }" />
                        <c:Label text="{path: 'comp-campaign>EndDate', type: 'sap.ui.model.type.Date', formatOptions:{pattern: 'MM/dd/yyyy'} }" />
                        <c:Label text="{comp-campaign>CncFee}"/>
                        <c:Label text="{comp-campaign>Incentive}"/>
                    </u:TableRow>
                </u:rows>
            </u:Table>
          <!-- Place holder for templates to reuse for Bind Aggregation method. Below will be always Display:none -->
            <u:Tag class="nrgCamOvr-hide">
                <um:TabBarItem design="Default" key="tb001" select=".toggleCampaign" enabled="{= ${comp-campaign>OfferCode} !== '' }" id="idnrgCamOvr-TabItem" >
                    <u:Tag text="{parts:[{path:'comp-campaign>Type'}],
                                                    formatter:'.formatType'}" />
                </um:TabBarItem>
            </u:Tag>
           <!-- Place holder for templates to reuse for Bind Aggregation method. Above will be always Display:none -->
      </u:Tag>

   </u:Tag>
</mvc:View>
