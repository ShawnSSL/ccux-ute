sap.ui.define(["sap/m/BusyDialog","sap/ui/core/EnabledPropagator","sap/m/Button"],function(a,b,c){"use strict";var d=a.extend("nrg.module.app.view.NrgBusyDialog",{metadata:{events:{stop:{parameters:{cancelPressed:{type:"boolean"}}}}},renderer:{}});return d.prototype.init=function(){a.prototype.init.apply(this,arguments),this._oDialog.oPopup.onsapescape=function(){}.bind(this),this._oDialog.addStyleClass("nrgBusyDialog")},a.prototype.open=function(a){if(this.getAriaLabelledBy()&&!this._oDialog._$dialog){var b=this;this.getAriaLabelledBy().forEach(function(a){b._oDialog.addAriaLabelledBy(a)})}return document.body&&sap.ui.getCore().isInitialized()?(a?this.showCancelButton():(this._cancelButton.setVisible(!1),this._stopButtonTimer&&clearTimeout(this._stopButtonTimer),this._stopButtonTimer=setTimeout(function(){this._oDialog.isOpen()&&this.showCancelButton()}.bind(this),3e4)),this._oDialog.open()):setTimeout(function(){this.open()}.bind(this),50),this},a.prototype.showCancelButton=function(){this._getCancelButton().setVisible(!0)},a.prototype._getCancelButton=function(){var a=this.getCancelButtonText();return a=a||sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("BUSYDIALOG_CANCELBUTTON_TEXT"),this._cancelButton=this._cancelButton||new c(this.getId()+"busyCancelBtn",{text:a,press:function(){this.close(!0),this.CancelClicked()}.bind(this)}),this._cancelButton.setVisible(!1),this._cancelButton},a.prototype.CancelClicked=function(a){this.fireStop({cancelPressed:a||!1})},d});